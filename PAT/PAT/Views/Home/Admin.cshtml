@model List<ManageShop.Models.TreeViewModel>
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<div id="example">
    <div class="demo-section k-content">
        <ul id="treeview">
            <li data-expanded="true" >
                <span class="k-sprite"></span>
                My Web Site
                <ul>
                    @foreach (var item in @Model)
                    {
                        <li data-expanded="true">
                            <span class="k-sprite"></span>@item.Name
                            @if (@item.Child.Count > 0)
                            {
                                <ul>
                                    @foreach (var child in @item.Child)
                                    {
                                        <li><span class="k-sprite"></span><span style="cursor:pointer;" onclick="btnCreateOnClick(@child.ID)">@child.Name</span></li>
                                    }
                                </ul>

                            }
                        </li>
                    }
                </ul>
            </li>
        </ul>
    </div>
</div>
<script>
    $(document).ready(function () {
        $("#treeview").kendoTreeView();
    });

    function btnCreateOnClick(id) {
        alert(id);
        loadpopup("../User/Detail", 'Add new user', '60%', false);
    }
</script>
